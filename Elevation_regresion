var cerrado = ee.FeatureCollection("users/lucasljardim9/wwf_cerrado");

var dataset = ee.Image("MERIT/DEM/v1_0_3").clip(cerrado);

var neighbor = dataset.neighborhoodToBands(ee.Kernel.square(1));

var elevation_max = neighbor.reduce(ee.Reducer.max());

var elevation_min = neighbor.reduce(ee.Reducer.min());

var elevation_range = elevation_max.subtract(elevation_min).abs()

var elevation = dataset.addBands(elevation_range).rename(["elevation", "elevation_range"]);

var sample_points = elevation
                     .sample({region:cerrado, numPixels:100});
/*                     
var chart = ui.Chart.feature.byFeature(sample_points, 'elevation', ['elevation_range'])
  .setChartType('ScatterChart');
  
  print(chart);
*/

var regression = sample_points.reduceColumns(ee.Reducer.pearsonsCorrelation(), 
                                             ["elevation", "elevation_range"]);





/*
var elevation_regression = elevation.select(["elevation", "elevation_range"])
                                      .reduceRegion({
                                        reducer: ee.Reducer.robustLinearRegression({
                                        numX:1,
                                        numY:1
                                      }), 
                                      geometry: cerrado,
                                      maxPixels: 463690744
                                      });
                                      
print(elevation_regression)                                      
                                     
*/                                    

                                          