var cerrado = ee.FeatureCollection("users/lucasljardim9/wwf_cerrado");

var dataset = ee.Image("MERIT/DEM/v1_0_3").clip(cerrado);

var neigbor = dataset.neighborhoodToBands(ee.Kernel.square(1));

var elevation_max = dataset.reduce(ee.Reducer.max());

var elevation_min = dataset.reduce(ee.Reducer.min());

var elevation_range = elevation_max.subtract(elevation_min).abs()

var elevation = ee.ImageCollection(dataset.addBands(elevation_range).rename(["elevation", "elevation_range"]));

var elevation_regression = elevation.select(["elevation", "elevation_range"])
                                      .reduce(ee.Reducer.robustLinearRegression({
                                        numX:1,
                                        numY:1
                                      }));
                                      
                                    
var residuals = elevation_regression.select(["residuals"])                        
//Map.addLayer(residuals);                                            